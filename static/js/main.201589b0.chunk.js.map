{"version":3,"sources":["components/offres/OfferForm.js","components/dropzone/DropzoneField.js","images/home.jpg","services/auth-service.js","components/shared/auth/LogedInLink.js","components/shared/auth/LogedInInfo.js","services/axios-service.js","actions/index.js","services/offer-service.js","components/shared/Header.js","components/Forms/Validators.js","components/shared/Alert.js","components/shared/Forms/input.js","components/Forms/LoginForms.js","components/auth/Login.js","components/Forms/RegisterForms.js","components/auth/Register.js","components/shared/auth/ProtectedRoute.js","components/shared/auth/LogedInRoute.js","services/base64-service.js","components/offres/PostOffer.js","components/offres/offersListing/OfferCard.js","components/offres/offersListing/OfferListing.js","components/offres/offersListing/OfferList.js","components/Forms/ReviewForm.js","components/shared/Reviews/ReviewCard.js","components/shared/Spinner.js","components/offres/offersDetails/offersDetails.js","components/shared/tabs/HomeTabs.js","components/shared/Cards/RegisterCard.js","components/shared/Cards/RegisterCardList.js","components/auth/Plans.js","App.js","serviceWorker.js","index.js","reducers/auth-reducer.js","reducers/user-reducer.js","reducers/offer-reducer.js","reducers/index.js","actions/types.js"],"names":["createRenderer","render","_ref","input","meta","label","placeholder","message","readonly","errors","rest","Object","_Users_amoutik_Desktop_wast_react_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_5__","err","console","log","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","className","touched","error","eval","concat","name","RenderInput","assign","disabled","RenderSelect","_ref2","children","RenderTextArea","textarea","rows","OfferForm","props","_this","_Users_amoutik_Desktop_wast_react_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_Users_amoutik_Desktop_wast_react_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_amoutik_Desktop_wast_react_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","handleOnDrop","newImageFile","setState","imageFile","state","initialize","isAuction","auction","_this$props","handleSubmit","pristine","submitting","submitCb","valid","categories","onSubmit","redux_form__WEBPACK_IMPORTED_MODULE_7__","component","type","id","map","category","value","key","htmlFor","DropzoneField","imagefile","Fragment","Component","validate","values","errorMsg","title","description","price","weight","locations","keywords","isAccepted","reduxForm","form","thumbsContainer","display","flexDirection","flexWrap","marginTop","thumb","borderRadius","border","marginBottom","marginRight","width","height","padding","boxSizing","thumbInner","minWidth","overflow","img","_ref2$meta","_useState","_Users_amoutik_Desktop_wast_react_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__","useState","_useState2","_Users_amoutik_Desktop_wast_react_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","files","setFiles","_useDropzone","useDropzone","accept","onDrop","acceptedFiles","file","preview","URL","createObjectURL","getRootProps","getInputProps","thumbs","react__WEBPACK_IMPORTED_MODULE_2___default","style","alt","src","useEffect","forEach","revokeObjectURL","onChange","photos","module","exports","__webpack_require__","p","auth_service","tokenKey","localStorage","getItem","removeItem","token","setItem","jwt","exp","decode","moment","role","roles","isBefore","getExpiration","getToken","isValid","LogedInLink","authService","isAuthenticated","react_default","react_router_dom","to","LogedInInfo","userInfo","email","balance","loyalty_points","onhold","axios_service","AxiosService","classCallCheck","axiosInstance","initInstance","axios","create","baseURL","DEFALUT_URL","timeout","interceptors","request","use","config","authServie","headers","Authorization","Content-Type","axiosService","getInstance","loginSuccess","LOGIN_SUCCESS","checkAuthState","dispatch","login","userData","post","then","res","data","saveToken","catch","response","LOGIN_FAILURE","logout","invalidateUser","LOGOUT","get_categories","get","FETCH_CATEGORIES_SUCCESS","fetchCategoriesSucces","extras","FETCH_CATEGORIES_FAIL","post_sale_offer","saleData","getRoles","link","isPicker","isReseller","isBuyer","withTransport","split","end_price","status","Promise","reject","fetchOffers","salesoffer","FETCH_SALES_SUCCESS","fetchSaleSuccess","FETCH_SALES_FAILURE","fetchOfferById","offerDetails","FETCH_OFFER_SUCCESS","fetchOfferSucces","FETCH_OFFER_FAILURE","fetchCurrentUserInfo","FETCH_USER_INFO_SUCCESS","fetchUserSuccess","_ref3","FETCH_USER_INFO_FAILURE","offer_service","Header","handleLogout","history","push","auth","isAuth","href","onClick","offerService","isAReseller","pathname","actions","firstName","toUpperCase","data-toggle","aria-haspopup","aria-expanded","aria-labelledby","renderAuthLinks","data-target","aria-controls","aria-label","auth_LogedInLink","auth_LogedInInfo","withRouter","min","connect","Alert","index","data-dismiss","aria-hidden","renderField","_ref$meta","minLength6","length","undefined","required","Field","Login","possibleConstructorReturn","getPrototypeOf","loginUser","bind","assertThisInitialized","_this$props$auth","successRegister","location","react_router","shared_Alert","LoginForms","RegisterForm","initialValues","enableReinitialize","passwordConfirmation","password","lastName","phone","address","country","city","Register","isError","redirect","registerUser","_this2","types","registered","_this$state","RegisterForms","ProtectedRoute","objectWithoutProperties","LogedInRoute","base64_service","blobToBase64","blob","callback","reader","FileReader","onload","base64","result","readAsDataURL","displayBase64String","formProps","resolve","output","entries","slicedToArray","size","IMGE_SIZE","PostOffer","submitOffre","base64Service","objectSpread","String","prototype","trunc","n","substr","OfferCard","_props$offer","offer","owner","thumbnail","home","OfferListing","renderOffers","offers","offersListing_OfferCard","OfferList","offersListing_OfferListing","ReviewForm","ReviewCard","override","css","_templateObject","Spinner","loading","react_spinners","sizeUnit","color","offersDetails","numberWithCommas","x","toString","replace","getLocalDate","date","format","getRealType","match","params","locationLength","image_gallery_default","showPlayButton","showFullscreenButton","items","isTransport","end_date","isAllowedToAccept","aria-selected","Reviews_ReviewCard","Forms_ReviewForm","shared_Spinner","HomeTabs","RegisterCard","isActive","icon","isRedirect","setIsRedirect","RegisterCardList","Cards_RegisterCard","Plans","Cards_RegisterCardList","store","require","init","App","es","basename","shared_Header","exact","path","auth_ProtectedRoute","auth_LogedInRoute","Boolean","window","hostname","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister","INITIAL_STATE","authReducer","arguments","action","userInfoReducer","categoryReducer","INITIAL_STATE_OFFER_SATE","offerSalesReducer","INITIAL_OFFER_DETAILS_SATE","offerDetailsReducer","d","__webpack_exports__","reducers_init","reducer","combineReducers","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk"],"mappings":"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","file":"static/js/main.201589b0.chunk.js","sourcesContent":["import React, { Component} from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport DropzoneField from '../dropzone/DropzoneField';\n\n\nconst createRenderer = render => ({ input, meta, label, placeholder, message, readonly, errors, ...rest }) => {\n    var err;\n    console.log(readonly ? true : false, label);\n    return (<div className=\"form-group\">\n        <label className=\"text-muted\">{label}</label>\n        {render(input, placeholder,readonly, rest)}\n        <small className=\"form-text text-muted\">{message}</small>\n        {((meta.touched && (err = meta.error)) || (errors && (err = eval(`errors.${input.name}`)))) && <small className=\"form-text text-danger\">{err}</small>}\n    </div>)\n}\n\nconst RenderInput = createRenderer((input, placeholder, readonly, rest) =>\n{\n    console.log(readonly, 'karim');\n    return <input className=\"form-control font-weight-light\" {...input} placeholder={placeholder} disabled={readonly ? true : false} />\n}\n)\n\nconst RenderSelect = createRenderer((input, label, readonly, { children }) =>\n    <select className=\"form-control font-weight-light\" {...input} >\n        {children}\n    </select>\n)\n\nconst RenderTextArea = createRenderer((textarea, placeholder, readonly) =>\n    <textarea rows=\"4\" className=\"form-control font-weight-light\" {...textarea} placeholder={placeholder} >\n    </textarea>\n)\n\nclass OfferForm extends Component {\n\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            imageFile: [],\n        }\n    }\n\n    handleOnDrop = newImageFile => {\n        this.setState({\n            imageFile: newImageFile\n        });\n    }\n    \n    componentDidMount() {\n        this.props.initialize({isAuction: this.props.auction ? true : false});\n    }\n \n    render() {\n        const { errors, handleSubmit, pristine, submitting, submitCb, valid , categories, auction } = this.props\n        const { imageFile } = this.state;\n        \n    return (\n        <form onSubmit={handleSubmit(submitCb)}>\n            <Field component={RenderInput} name=\"title\" type=\"text\" id=\"title\" placeholder=\"Titre\"\n                label=\"Titre\"\n                errors={errors}\n                message=\"Assurez-vous que le titre est descriptif\" />\n            <Field name=\"category\" component={RenderSelect}\n                label=\"Catégorie\" errors={errors}>\n                {categories.map(category => <option value={category.id} key={category.id}>{category.label}</option>)}\n            </Field>\n            <Field name=\"description\" errors={errors} label=\"Description\" component={RenderTextArea} placeholder=\"Assurez-vous que la description est bien écrite\" id=\"idDescription\" className=\"form-control font-weight-light\" rows=\"4\"></Field>\n            <div className=\"row\">\n                <div className=\"form-group col\">\n                    <Field errors={errors} name=\"price\" label=\"Prix\" component={RenderInput} type=\"number\" className=\"form-control font-weight-light\" placeholder=\"Prix\" />\n                </div>\n                <div className=\"form-group col\">\n                    <Field errors={errors} name=\"weight\" label=\"Poids en Kg\" component={RenderInput} type=\"number\" className=\"form-control font-weight-light\" placeholder=\"Poids\" />\n                </div>\n            </div>\n            <Field label=\"Prix final\" name=\"end_price\" component={RenderInput} placeholder=\"Prix final\" type=\"number\" className=\"form-control font-weight-light\" readonly={!auction} />\n            <Field label=\"isAuction\" name=\"isAuction\" component=\"input\" placeholder=\"is Auction\" type=\"hidden\" className=\"form-control font-weight-light\" value={auction ? 'auction': 'not auction'}/>\n            <div className=\"form-group form-check\">\n                <Field errors={errors} name=\"withTransport\" component=\"input\"  type=\"checkbox\" className=\"text-muted font-weight-light form-check-input\" id=\"withTransport\" />\n                <label className=\"form-check-label text-muted\" htmlFor=\"withTransport\">Avec transport</label>\n            </div>\n            <Field errors={errors} label=\"Emplacement\" name=\"locations\" component={RenderTextArea} placeholder=\"Emplacement séparés par une nouvelle ligne\" id=\"idLocation\" className=\"form-control font-weight-light\" rows=\"2\"></Field>\n            <Field errors={errors} component={RenderInput} name=\"keywords\" type=\"text\" id=\"title\" placeholder=\"Mot clé séparé par une virgule ,\"\n                label=\"Mot cle\"\n                message=\"Assurez-vous que le titre est descriptif\" />\n            <div className=\"form-group\">\n                <Field\n                        name=\"photos\"\n                        component={DropzoneField}\n                        errors={errors}\n                        imagefile={imageFile}\n                        handleOnDrop={this.handleOnDrop}\n                        type=\"file\"\n                />\n            </div>\n            <div className=\"form-group form-check\">\n                <Field name=\"isAccepted\" component=\"input\" className=\"text-muted font-weight-light form-check-input\" type=\"checkbox\" id=\"idAcceptTerm\" />\n                <label className=\"form-check-label text-muted\" htmlFor=\"idAcceptTerm\">J'accepte les termes et conditions</label>\n            </div>\n            <button \n            disabled={!valid || pristine || submitting}\n            className=\"btn btn-submit text-white btn-warning rounded-0\"\n            >\n            {\n                submitting ? <React.Fragment><i className=\"fas fa-spin fa-spinner\"></i> En progression</React.Fragment>  : \"poster\"\n            }\n            </button>\n        </form>\n    );\n        }\n}\n\nconst validate = values => {\n    const errorMsg = 'Ce champ ne doit pas être vide';\n    const errors = {}\n    if (!values.title)\n        errors.title = errorMsg;\n    if (!values.category)\n        errors.category = errorMsg;\n    if (!values.description)\n        errors.description = errorMsg;\n    if (!values.price)\n        errors.price = errorMsg;\n    if (!values.weight)\n        errors.weight = errorMsg;\n    if (!values.locations)\n        errors.locations = errorMsg;\n    if (!values.keywords)\n        errors.keywords = errorMsg;\n    if (!values.isAccepted)\n        errors.isAccepted = 'Vous devez accepter les termes et conditions avant de poster';\n\n    return errors;\n}\nexport default reduxForm({\n    form: 'offerForm',\n    validate,\n})(OfferForm)\n","import React, {useEffect, useState} from 'react';\nimport {useDropzone} from 'react-dropzone';\nimport PropTypes from \"prop-types\";\n\nconst thumbsContainer = {\n  display: 'flex',\n  flexDirection: 'row',\n  flexWrap: 'wrap',\n  marginTop: 16\n};\n\nconst thumb = {\n  display: 'inline-flex',\n  borderRadius: 2,\n  border: '1px solid #eaeaea',\n  marginBottom: 8,\n  marginRight: 8,\n  width: 100,\n  height: 100,\n  padding: 4,\n  boxSizing: 'border-box'\n};\n\nconst thumbInner = {\n  display: 'flex',\n  minWidth: 0,\n  overflow: 'hidden'\n};\n\nconst img = {\n  display: 'block',\n  width: 'auto',\n  height: '100%'\n};\n\n\nconst DropzoneField = ({\n    handleOnDrop,\n    input,\n    imagefile,\n    errors,\n    meta: { error, touched }}, {...rest}) => {\n  const [files, setFiles] = useState([]);\n  const {getRootProps, getInputProps} = useDropzone({\n    accept: 'image/*',\n    onDrop: acceptedFiles => {\n        handleOnDrop(acceptedFiles);\n      setFiles(acceptedFiles.map(file => Object.assign(file, {\n        preview: URL.createObjectURL(file)\n      })));\n    }\n  });\n  \n  const thumbs = files.map(file => (\n    <div style={thumb} key={file.name}>\n      <div style={thumbInner}>\n        <img\n          alt=\"\"\n          src={file.preview}\n          style={img}\n        />\n      </div>\n    </div>\n  ));\n\n  useEffect(() => () => {\n    // Make sure to revoke the data uris to avoid memory leaks\n    files.forEach(file => URL.revokeObjectURL(file.preview));\n  }, [files]);\n\n  return (\n    <section>\n      <div onChange={file => input.onChange(file)} {...getRootProps({className: 'dropzone text-center  text-muted py-4'})}>\n        <input name={input.name} {...getInputProps()} />\n        <p>Drag 'n' drop some files here, or click to select files</p>\n      </div>\n      <small className=\"text-danger\">{errors.photos}</small>\n      <aside style={thumbsContainer}>\n        {thumbs}\n      </aside>\n    </section>\n  );\n}\n\n\nDropzoneField.propTypes = {\n    handleOnDrop: PropTypes.func.isRequired,\n    input: PropTypes.shape({\n      name: PropTypes.string,\n      onBlur: PropTypes.func.isRequired,\n      onChange: PropTypes.func.isRequired,\n      onDragStart: PropTypes.func.isRequired,\n      onDrop: PropTypes.func.isRequired,\n      onFocus: PropTypes.func.isRequired,\n      value: PropTypes.shape({\n        preview: PropTypes.string\n      })\n    }),\n    imagefile: PropTypes.arrayOf(PropTypes.objectOf(PropTypes.string)),\n    label: PropTypes.string,\n    touched: PropTypes.bool,\n    error: PropTypes.string\n  };\n\nexport default DropzoneField;\n","module.exports = __webpack_public_path__ + \"static/media/home.68265982.jpg\";","\nimport * as jwt from 'jsonwebtoken'\nimport * as moment from 'moment';\n\nclass AuthService {\n    \n    tokenKey = 'auth_token';\n\n    getToken() {\n        return localStorage.getItem(this.tokenKey)\n    }\n\n    invalidateUser() {\n        localStorage.removeItem(this.tokenKey);\n    }\n\n    saveToken(token) {\n        localStorage.setItem(this.tokenKey, token);\n    }\n\n    decode(token) {\n        return jwt.decode(token);\n    }\n\n    getExpiration(token) {\n        const exp = this.decode(token).exp;\n        return moment.unix(exp);\n    }\n\n    getRoles(token) {\n        let role = '';\n        if (token)\n        {\n            const roles = this.decode(token).roles;\n            if (roles)\n            {\n                role = roles[0];\n            }\n            return role;\n        }\n        return role;\n    }\n\n    isPicker()\n    {\n        return 'ROLE_PICKER';\n    }\n\n    isReseller()\n    {\n        return 'ROLE_RESELLER';\n    }\n\n    isBuyer()\n    {\n        return 'ROLE_BUYER';\n    }\n\n    isValid(token) {\n        return moment().isBefore(this.getExpiration(token));\n    }\n\n    isAuthenticated() {\n        const token = this.getToken();\n        return (token && this.isValid(token)) ? true : false;\n    }\n}\n\nexport default new AuthService();","import React from 'react';\nimport authService from '../../../services/auth-service';\nimport { Link } from 'react-router-dom';\n\nfunction LogedInLink(props) {\n    \n    if (authService.isAuthenticated())\n    {\n        return <Link className=\"nav-link wast-link\" to=\"/offers/new\">POSTER</Link>\n    }\n    return (<React.Fragment></React.Fragment>)\n}\nexport default LogedInLink;","import React, { Component } from 'react';\n\nclass LogedInInfo extends Component {\n\n    render() {\n        const { userInfo } = this.props;\n        if (userInfo && this.props.userInfo.email) {\n            return (\n                <div className=\"navbar-text text-lowercase\">\n                    <span className=\"text-black-50 pr-4\">Solde : <span className=\"text-danger\">{userInfo.balance}</span></span>\n                    <span className=\"text-black-50 pr-4\">points de fidélité : <span className=\"text-danger\">{userInfo.loyalty_points}</span></span>\n                    <span className=\"text-black-50 pr-4\">en suspens : <span className=\"text-danger\">{userInfo.onhold}</span></span>\n                </div>\n            );\n        } else \n        {\n            return <React.Fragment></React.Fragment>\n        }\n    }\n}\n\n\nexport default (LogedInInfo);","import axios from 'axios'\nimport authServie from './auth-service'\nimport { DEFALUT_URL } from '../actions/types'\nclass AxiosService {\n    axiosInstance = {};\n\n    constructor() {\n        this.initInstance();\n    }\n\n    initInstance() {\n        this.axiosInstance = axios.create({\n            baseURL: `${DEFALUT_URL}/api`,\n            timeout: 50000\n        });\n\n        this.axiosInstance.interceptors.request.use(\n            (config) => {\n                const token = authServie.getToken();\n                if (token) {\n                    config.headers.Authorization = `Bearer ${token}`;\n                    config.headers['Content-Type'] = 'application/json';\n                }\n                return config;\n            });\n        return this.axiosInstance;\n    }\n    getInstance() {\n        return this.axiosInstance || this.initInstance();\n    }\n}\n\nexport default new AxiosService();","import axios from 'axios'\nimport authService from '../services/auth-service'\nimport axiosService from '../services/axios-service'\n\nimport {\n    DEFALUT_URL,\n    LOGIN_SUCCESS,\n    LOGIN_FAILURE,\n    LOGOUT,\n    FETCH_CATEGORIES_FAIL,\n    FETCH_CATEGORIES_SUCCESS,\n    FETCH_SALES_FAILURE,\n    FETCH_SALES_SUCCESS,\n    FETCH_OFFER_FAILURE,\n    FETCH_OFFER_SUCCESS,\n    FETCH_USER_INFO_SUCCESS,\n    FETCH_USER_INFO_FAILURE\n\n} from './types'\n\nconst headers = { 'Content-Type': 'application/json' }\n\n// Auth Actions ------------------\n\nconst axiosInstance = axiosService.getInstance();\n\nexport const register = (userData) => {\n\n    return axios.post(`/api/register`,\n        {\n            email: userData.email,\n            password: userData.password,\n            firstName: userData.firstName,\n            lastName: userData.lastName,\n            city: userData.city,\n            address: userData.address,\n            country: userData.country,\n            phone: userData.phone,\n            type: userData.types\n\n        }, { headers: headers }).then(\n            (res) => res.data,\n            (err) => Promise.reject(err.response.data.extras));\n}\n\nconst loginSuccess = () => {\n    return {\n        type: LOGIN_SUCCESS\n    }\n}\n\nconst loginFailure = (errors) => {\n    return {\n        type: LOGIN_FAILURE,\n        errors\n    }\n}\n\nexport const checkAuthState = () => {\n    return dispatch => {\n        if (authService.isAuthenticated()) {\n            dispatch(loginSuccess());\n        }\n    }\n}\n\nexport const login = (userData) => {\n    return dispatch => {\n        return axios.post(`/api/auth`,\n            userData, { headers: headers })\n            .then(res => res.data)\n            .then(token => {\n                authService.saveToken(token.token);\n                dispatch(loginSuccess());\n            })\n            .catch(err => {\n                dispatch(loginFailure(err.response.data.message));\n            })\n    }\n}\n\nexport const logout = () => {\n    authService.invalidateUser();\n    return {\n        type: LOGOUT\n    }\n}\n\n// Category contents\n\nconst fetchCategoriesSucces = (categories) => {\n    return {\n        type: FETCH_CATEGORIES_SUCCESS,\n        categories\n    }\n}\n\nconst fetchCategoriesFail = (errors) => {\n    return {\n        type: FETCH_CATEGORIES_FAIL,\n        errors\n    }\n}\n\nexport const get_categories = () => {\n\n    return dispatch => {\n        return axios.get(`/api/categories`,\n            { headers: headers })\n            .then(res => { return res.data })\n            .then(categories => dispatch(fetchCategoriesSucces(categories)))\n            .catch(({ response }) => dispatch(fetchCategoriesFail(response.data.extras)))\n    }\n}\n\n\n// Post a sale offer\n\nexport const post_sale_offer = (saleData) => {\n    let role = authService.getRoles(authService.getToken());\n    let link = 'auction';\n\n    if (saleData.isAuction === false) {\n        switch (role) {\n            case authService.isPicker():\n                link = 'sale';\n                break;\n            case authService.isReseller():\n                link = 'purchase';\n                break;\n            case authService.isBuyer():\n                link = 'bulk_purchase';\n                break;\n            default:\n                link = 'sale';\n\n        }\n    }\n    return axiosInstance.post(`/api/offers`,\n        {\n            title: saleData.title,\n            description: saleData.description,\n            price: saleData.price,\n            category: { \"id\": saleData.category },\n            withTransport: saleData.withTransport,\n            weight: saleData.weight,\n            locations: saleData.locations.split('\\n'),\n            keywords: saleData.keywords.split(','),\n            photos: saleData.photos,\n            type: link,\n            end_price: saleData.end_price\n\n        }).then(\n            (res) => res.data,\n            (err) => {\n                if (err.response.data.status === 401)\n                    return Promise.reject(err.response.data.extras)\n                else\n                    return Promise.reject(err.response.data.message)\n            }\n        );\n}\n\n\n// Fetch all Offers\n\n\nconst fetchSaleFailure = (errors) => {\n    return {\n        type: FETCH_SALES_FAILURE,\n        errors\n    }\n}\n\nconst fetchSaleSuccess = (salesoffer) => {\n    return {\n        type: FETCH_SALES_SUCCESS,\n        salesoffer\n    }\n}\n\n\nexport const fetchOffers = () => {\n\n    return dispatch => {\n        return axios.get(`${DEFALUT_URL}/api/offers/sale`,\n            { headers: headers })\n            .then(res => res.data)\n            .then(salesoffer => dispatch(fetchSaleSuccess(salesoffer)))\n            .catch(err => dispatch(fetchSaleFailure(err.response.data.message)))\n    }\n}\n\n// Fetch a single offer by Id\n\nconst fetchOfferSucces = (offerDetails) => {\n    return {\n        type: FETCH_OFFER_SUCCESS,\n        offerDetails\n    }\n}\n\nconst fetchOfferFail = (errors) => {\n    return {\n        type: FETCH_OFFER_FAILURE,\n        errors\n    }\n}\n\nexport const fetchOfferById = (id) => {\n    return dispatch => {\n        return axios.get(`/api/offers/${id}`,\n            { headers: headers }\n        ).then(res => res.data)\n            .then(offerDetails => dispatch(fetchOfferSucces(offerDetails)))\n            .catch(({ response }) => dispatch(fetchOfferFail(response.data.errors)))\n    }\n}\n\n\n// FETCH CURRENT USER INFO\n\nconst fetchUserSuccess = (userInfo) => {\n    return {\n        type: FETCH_USER_INFO_SUCCESS,\n        userInfo\n    }\n}\n\nconst fetchUserFail = (errors) => {\n    return {\n        type: FETCH_USER_INFO_FAILURE,\n        errors\n    }\n}\n\nexport const fetchCurrentUserInfo = () => {\n    return dispatch => {\n        return axiosInstance.get(`/api/current/infos`,\n            { headers: headers }\n        ).then(res => res.data)\n            .then(userInfo => dispatch(fetchUserSuccess(userInfo)))\n            .catch(({ response }) => dispatch(fetchUserFail(response.data.message)))\n    }\n}","import authService from './auth-service';\n\n// const SALE = 'sale';\n// const AUCTION = 'reseller';\nconst BULK_PURCHASE = 'bulk_purchase';\nconst PURCHASE = 'purchase';\n\n\nclass OfferService {\n\n    isAReseller() {\n        switch (authService.getRoles(authService.getToken())) {\n            case authService.isReseller():\n                return true;\n            default:\n                return false;\n        }\n    }\n    isAllowedToAccept(type) {\n        if (authService.isAuthenticated()) {\n            switch (authService.getRoles(authService.getToken())) {\n                case authService.isPicker():\n                    return false;\n                case authService.isBuyer() && (type === BULK_PURCHASE || type === PURCHASE):\n                    return true;\n                case authService.isReseller():\n                    return true;\n                default:\n                    return false;\n\n            }\n        }\n        return false;\n    }\n}\n\nexport default new OfferService();","import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport LogedInLink from './auth/LogedInLink';\nimport LogedInInfo from './auth/LogedInInfo';\nimport * as actions from '../../actions';\nimport offerService from '../../services/offer-service';\n\nclass Header extends Component {\n\n\n    handleLogout = () => {\n        this.props.logout();\n        this.props.history.push('/');\n    }\n\n    renderAuthLinks() {\n        const { isAuth } = this.props.auth;\n\n        if (isAuth) {\n            return (\n                <React.Fragment>\n                    <a href=\"/login\" className=\"dropdown-item clickable\" onClick={this.handleLogout}>Se déconnecter</a>\n                    {offerService.isAReseller() && <Link className=\"dropdown-item\" to={{pathname: '/offers/new', state: {auction: true}}}>Publier une enchère</Link> }\n                    \n                </React.Fragment>\n            );\n        }\n\n        \n        return (\n            <React.Fragment>\n                <Link className=\"dropdown-item\" to=\"/login\">Connexion</Link>\n                <Link className=\"dropdown-item\" to=\"/register\">Inscription</Link>\n            </React.Fragment>\n        );\n    }\n\n    componentWillMount() {\n        if (this.auth)\n        {\n            this.props.dispatch(actions.fetchCurrentUserInfo());\n        }\n    }\n\n    render() {\n        const { userInfo } = this.props;\n        return (\n            <header>\n                <nav className=\"top navbar navbar-expand-lg bg-dark\">\n                    <ul className=\"navbar-nav wast-link mr-auto\">\n                        <li className=\"nav-item mr-sm-3\">\n                            <i className=\"fas fa-flag mr-2\"></i>Bienvenue dans Waste to Resource\n                    </li>\n                        <li className=\"nav-item mr-sm-3\">\n                            <i className=\"fas fa-phone-square mr-2\"></i>Telephone: +212658468568\n                    </li>\n                        <li className=\"nav-item mr-sm-3\">\n                            <i className=\"fas fa-envelope mr-2\"></i>e-mail@mail.com\n                    </li>\n                    </ul>\n                    <ul className=\"navbar-nav  wast-link ml-auto\">\n                    <li className=\"nav-item\">\n                    {\n                        userInfo.firstName && <span>Bonjour : {userInfo.firstName.toUpperCase()} </span>\n                    }\n                        \n                    </li>\n                        <li className=\"nav-item dropdown mx-2\">\n                            <a className=\"nav-link dropdown-toggle p-0 top\" href=\"/\" id=\"navbarDropdown\" role=\"button\"\n                                data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                                <i className=\"fas fa-user mr-2\"></i>Accounte\n                        </a>\n                            <div className=\"dropdown-menu dropdwn\" aria-labelledby=\"navbarDropdown\">\n                                {this.renderAuthLinks()}\n                            </div>\n                        </li>\n                        <li className=\"nav-item dropdown mx-2\">\n                            <a className=\"nav-link dropdown-toggle p-0 top\" href=\"/\" id=\"navbarDropdown\" role=\"button\"\n                                data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                                <i className=\"fas fa-globe mr-2\"></i>Francais\n                        </a>\n                            <div className=\"dropdown-menu dropdwn\" aria-labelledby=\"navbarDropdown\">\n                                <a className=\"dropdown-item\" href=\"/\">Arabe</a>\n                                <a className=\"dropdown-item\" href=\"/\">Anglais</a>\n                            </div>\n                        </li>\n                    </ul>\n                </nav>\n                <nav className=\"navbar navbar-expand-lg navbar-light bg-white text-uppercase\">\n                    <Link className=\"navbar-brand\" to=\"/\">WASTETOR</Link>\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                        <span className=\"navbar-toggler-icon\"></span>\n                    </button>\n                    <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n                        <ul className=\"navbar-nav mr-auto\">\n                            <li className=\"nav-item\">\n                                <a className=\"nav-link wast-link\" href=\"/\">Accueil</a>\n                            </li>\n                            <li className=\"nav-item\">\n                                <Link className=\"nav-link wast-link\" to=\"/offers\">Tout voir</Link>\n                            </li>\n                            <li className=\"nav-item dropdown\">\n                                <a className=\"nav-link wast-link dropdown-toggle\" href=\"/\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                                    Catégories\n                      </a>\n                                <div className=\"dropdown-menu dropdwn\" aria-labelledby=\"navbarDropdown\">\n                                    <a className=\"dropdown-item\" href=\"/\">Category one</a>\n                                    <a className=\"dropdown-item\" href=\"/\">Category two</a>\n                                    <a className=\"dropdown-item\" href=\"/\">Category three</a>\n                                </div>\n                            </li>\n                            <li className=\"nav-item\">\n                                <LogedInLink />\n                            </li>\n                        </ul>\n                            <LogedInInfo userInfo={userInfo} />\n                        <form className=\"form-inline\">\n                            <input className=\"form-control search-bar\" type=\"search\" placeholder=\"Rechereche\" aria-label=\"Search\" />\n                            <button className=\"btn btn-warning text-white my-2 button-search\" type=\"submit\"><i className=\"fas fa-search\"></i></button>\n                        </form>\n                    </div>\n                </nav>\n            </header>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        auth: state.auth,\n        userInfo: state.userInfo.data\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(Header));","\nexport const minLength = min => value =>\nvalue && value.length < min ? `Must be ${min} characters or more` : undefined\n\nexport const minLength6 = minLength(6)\n\nexport const required = value => ( value ? undefined : 'Cette entrée est obligatoire')","import React, { Component } from 'react';\n\nclass Alert extends Component {\n\n    render() {\n        const { className, errors } = this.props;\n        return (\n            <div className={`alert alert-${className} font-weight-light alert-dismissible fade show`} role=\"alert\">\n                { \n                    errors.map((error, index) => <small key={index}>{error}</small>)     \n                 }\n                <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n        );\n    }\n}\n\nexport default Alert;","import React from 'react'\n\nexport const renderField = ({\n    input,\n    label,\n    placeholder,\n    type,\n    meta: { touched, error }\n}) => (\n    <div>\n        <div className=\"input-group py-2\">\n            <input className=\"form-control\" {...input} placeholder={placeholder} type={type} />\n        </div>\n                { touched && (error && <small className=\"form-text text-danger\" >{error}</small>)}\n        </div>\n)","import React from 'react'\nimport { Field, reduxForm } from 'redux-form'\nimport { renderField } from '../shared/Forms/input'\nimport { required, minLength6 } from './Validators'\n\nconst LoginForm = props => {\n    const { handleSubmit, pristine, submitting, submitCb, valid } = props\n\n    return (\n        <form className=\"login-form\" onSubmit={handleSubmit(submitCb)}>\n                <Field\n                    type=\"email\"\n                    name=\"username\"\n                    className=\"form-control\"\n                    component={renderField}\n                    id=\"email\"\n                    required\n                    validate={[required]}\n                    placeholder=\"Entez votre e-mail\" />\n                <Field\n                    type=\"password\"\n                    name=\"password\"\n                    id=\"password\"\n                    className=\"form-control\"\n                    component={renderField}\n                    required\n                    validate={[required, minLength6]}\n                    placeholder=\"Mot de passe\" />\n            <div className=\"form-group form-check\">\n                <Field name=\"rememberMe\" component=\"input\" type=\"checkbox\" className=\"form-check-input\" id=\"remember\" />\n                <label className=\"form-check-label\" htmlFor=\"remember\">Se souvenir de moi</label>\n            </div>\n            <button type=\"submit\" disabled={!valid || pristine || submitting} className=\"btn btn-warning text-white btn-block rounded-0 my-3\">Connecter</button>\n        </form>\n    );\n}\n\nexport default reduxForm({\n    form: 'loginForm',\n})(LoginForm)","import React, { Component } from 'react';\nimport Alert from '../shared/Alert';\nimport LoginForm from '../Forms/LoginForms';\nimport { connect } from 'react-redux'\nimport * as actions from '../../actions'\nimport { Redirect } from 'react-router-dom'\n\nclass Login extends Component {\n\n    constructor() {\n        super();\n        this.loginUser = this.loginUser.bind(this);\n    }\n    \n    loginUser(userData) {\n        this.props.dispatch(actions.login(userData));\n    }\n\n    render() {\n        const { isAuth, errors } = this.props.auth;\n        const { successRegister } = this.props.location.state || false;\n\n        if (isAuth) {\n            return <Redirect to={{ pathname: '/'}} />\n        }\n        return (\n            <section className=\"mx-auto p-5\">\n                { !isAuth && !(errors === 'undefined' || errors.length === 0) ? <Alert className=\"danger\" errors={[errors]} /> : ''}\n                { successRegister && <Alert className=\"success\" errors={['Vous avez enregistré avec succès']}/>}\n                <div className=\"row\">\n                    <div className=\"col-3\"></div>\n                    <div className=\"col-6\">\n                        <LoginForm submitCb={this.loginUser} />\n                    </div>\n                    <div className=\"col-3\"></div>\n                </div>\n            </section>\n\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        auth: state.auth\n    }\n}\n\nexport default connect(mapStateToProps)(Login)","import React, { Component } from 'react'\nimport { Field, reduxForm } from 'redux-form'\nimport { renderField } from '../shared/Forms/input'\nimport { connect } from 'react-redux';\n\n\nclass RegisterForm extends Component {\n\n    componentDidMount() {\n        \n        this.props.initialize(this.props.data);\n    }\n\n    render() {\n    const { handleSubmit, pristine, submitting, submitCb, valid} = this.props\n\n        return (\n            <form className=\"login-form\" onSubmit={handleSubmit(submitCb)} >\n            <div className=\"row\">\n                <div className=\"col-6\">\n                    <Field\n                        type=\"text\"\n                        name=\"lastName\"\n                        className=\"form-control\"\n                        component={renderField}\n                        placeholder=\"Nom\" />\n                    <Field\n                        type=\"text\"\n                        name=\"firstName\"\n                        className=\"form-control\"\n                        component={renderField}\n                        placeholder=\"Prénom\" />\n                    <Field\n                        type=\"email\"\n                        name=\"email\"\n                        className=\"form-control\"\n                        component={renderField}\n                        id=\"email\"\n                        required\n                        placeholder=\"Entez votre e-mail\" />\n                    <Field\n                        type=\"text\"\n                        name=\"phone\"\n                        className=\"form-control\"\n                        component={renderField}\n                        placeholder=\"Numéro de téléphone\" />\n                    <Field name=\"types\" className=\"form-control\" component=\"select\">\n                        <option></option>\n                        <option value=\"picker\">Collecteur</option>\n                        <option value=\"buyer\">Acheteur</option>\n                        <option value=\"reseller\">Revendeur</option>\n                    </Field>\n                </div>\n                <div className=\"col-md-6\">\n                    <Field\n                        type=\"password\"\n                        name=\"password\"\n                        id=\"password\"\n                        className=\"form-control\"\n                        component={renderField}\n                        placeholder=\"Mot de passe\" required />\n                    <Field\n                        type=\"password\"\n                        id=\"newpassword\"\n                        name=\"passwordConfirmation\"\n                        className=\"form-control\"\n                        component={renderField}\n                        placeholder=\"Confirmer Mot de passe\" required />\n                    <Field\n                        type=\"text\"\n                        name=\"country\"\n                        className=\"form-control\"\n                        component={renderField}\n                        placeholder=\"Pays\" />\n\n                    <Field\n                        type=\"text\"\n                        name=\"city\"\n                        className=\"form-control\"\n                        component={renderField}\n                        placeholder=\"Ville\" />\n                    <Field\n                        className=\"form-control\"\n                        rows=\"3\"\n                        name=\"address\"\n                        component=\"textarea\"\n                        placeholder=\"Adresse\" />\n                </div>\n                <button type=\"submit\" disabled={!valid || pristine || submitting} className=\"btn btn-warning btn-block text-white rounded-0 my-3\">Inscrire</button>\n            </div>\n        </form>\n        );\n    }\n}\n\n\nconst validate = values => {\n    const errors = {}\n\n    if (!values.email) {\n        errors.email = \"S'il vous plaît entrer un email valide\";\n    }\n    if (!values.passwordConfirmation) {\n        errors.passwordConfirmation = \"S'il vous plait confirmer votre mote de pass\";\n    }\n    if (values.password !== values.passwordConfirmation) {\n        errors.password = \"Le mot de passe ne correspond pas.\";\n    }\n    if (!values.firstName)\n        errors.firstName = \"Entrez un nom\";\n    if (!values.lastName)\n        errors.lastName = \"Entrez un prenom\";\n    if (!values.phone || (values.phone && values.phone.length < 10))\n        errors.phone = \"Votre numéro de téléphone est invalide\";\n    if (!values.address)\n        errors.address = \"Entrez une address valid\";\n    if (!values.country)\n        errors.country = \"S'il vous plaît entrer un pays valide\";\n    if (!values.city)\n        errors.city = \"S'il vous plaît entrer une ville valide\";\n        \n    return errors\n}\n\nconst mapStateToProps = (state) => ({\n    initialValues: state.data,\n})\n\nexport default connect(mapStateToProps)(reduxForm({\n    form: 'registerForm',\n    enableReinitialize: true,\n    validate,\n})(RegisterForm))","import React, { Component } from 'react';\nimport RegisterForms from '../Forms/RegisterForms';\nimport * as actions from '../../actions'\nimport { Redirect } from 'react-router-dom'\nimport Alert from '../shared/Alert';\n\nclass Register extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            isError: false,\n            errors: [],\n            redirect: false,\n        }\n        this.registerUser = this.registerUser.bind(this);\n    }\n\n\n    registerUser(userData) {\n        actions.register(userData).then(\n            (registered) => {this.setState({redirect : true})},\n            (errors) => this.setState({ isError: true, errors: errors})\n        )\n    }\n    render() {\n\n        const { isError, errors, redirect } = this.state;\n        const type = this.props.location.state && this.props.location.state.type ? this.props.location.state.type : 'picker'\n        const data = {types: type};\n        if (redirect)\n        {\n            return <Redirect to={{ pathname: '/login', state: { successRegister: true } }} />\n        }\n        return (\n            <section className=\"login-container container-fluid mx-auto p-5 my-auto\">\n                {isError ? <Alert className=\"danger\" errors={Object.values(errors)} /> : ''}\n                <RegisterForms data={data} type={this.props.type} submitCb={this.registerUser} />\n            </section>\n        );\n    }\n}\n\nexport default Register","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom'\nimport authService from '../../../services/auth-service'\n\nfunction ProtectedRoute(props) {\n\n    const {component: Component, ...rest} = props;\n\n    return (\n        <Route {...rest} render={(props) => authService.isAuthenticated()\n        ? <Component {...props} {...rest}/>\n        : <Redirect to={{pathname: '/login'}} />}/>\n    );\n}\n\nexport default ProtectedRoute;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom'\nimport authService from '../../../services/auth-service'\n\nfunction LogedInRoute(props) {\n\n    const { component: Component, ...rest } = props;\n\n    return (\n        <Route {...rest} render={(props) => authService.isAuthenticated()\n            ? <Redirect to={{ pathname: '/' }} />\n            : <Component {...props} {...rest} />} />\n    );\n}\n\nexport default LogedInRoute;","import { IMGE_SIZE } from '../actions/types'\n\nclass Base64Service {\n\n    blobToBase64 = (blob, callback) => {\n        var reader = new FileReader();\n        reader.onload = function () {\n            var dataUrl = reader.result;\n            var base64 = dataUrl.split(',')[1];\n            callback(base64);\n        };\n        reader.readAsDataURL(blob);\n    }\n\n    displayBase64String = (formProps) => {\n        return new Promise((resolve, reject) => {\n            var result = [];\n            if (formProps.photos === null || formProps.photos === undefined)\n            {\n                resolve(result);     \n            }\n                \n            var output = Object.entries(formProps.photos).map(([key, value]) => value);\n            output.map(value => {\n                if (value.size / (1024 * 1024)  > IMGE_SIZE)\n                    reject({\"photos\": 'La taille de l\\'image doit être inférieure à 2 Mo'});\n                return this.blobToBase64(value, (data) => {\n                    result.push({ \"file\": `data:${value.type};base64,${data}` });\n                    if (result.length === output.length)\n                        resolve(result);\n                });\n            });\n        });\n    }\n}\n\nexport default new Base64Service();","import React, { Component } from 'react';\nimport OfferForm from './OfferForm';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport * as actions from '../../actions';\nimport base64Service from '../../services/base64-service';\nimport Alert from '../shared/Alert';\n\n\nclass PostOffer extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isError: false,\n            errors: '',\n            redirect: false\n        }\n    }\n\n    componentWillMount() {\n        this.props.dispatch(actions.get_categories());\n    }\n\n    submitOffre = (saleData) => {\n        return new Promise((resolve, reject) => {\n            base64Service.displayBase64String(saleData).then(\n            (res) => {\n                actions.post_sale_offer({ ...saleData, \"photos\": res }).then(\n                    (registered) => {\n                         this.setState({ redirect: true });\n                         resolve(true);\n                        },\n                    (errors) => {\n                        this.setState({ isError: true, errors: errors });\n                        reject();\n                    }\n                )\n            },\n            (err) => {\n                this.setState({ isError: true, errors: err });\n            }\n        )\n        });\n        \n        \n    }\n\n    render() {\n        const { redirect, isError, errors } = this.state;\n        if (redirect) {\n            return <Redirect to={{ pathname: '/offers', state: { successRegister: true } }} />\n        }\n        return (\n            <section className=\"post-form col-8 mx-auto my-5 p-5\">\n                {isError ? <Alert className=\"danger\" errors={Object.values(errors)} /> : ''}\n                <OfferForm errors={errors} auction={(this.props.location.state && this.props.location.state.auction) ? true : false}  submitCb={this.submitOffre} categories={this.props.categories} />\n            </section>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        categories: state.categories.data\n    }\n}\n\nexport default connect(mapStateToProps)(PostOffer);","import React from 'react';\nimport home from '../../../images/home.jpg'\n\nString.prototype.trunc = String.prototype.trunc ||\n    function (n) {\n        return (this.length > n) ? this.substr(0, n - 1) : this;\n    };\n\nfunction OfferCard(props) {\n\n    const { id, title, description, price, photos, owner: { lastName } } = props.offer;\n    return (\n        <a href={`offers/${id}`} className=\"card card-mine\">\n            <img alt=\"\" className=\"card-img-top\" src={photos.length > 0 && photos[0].thumbnail ? photos[0].thumbnail : home} />\n            <div className=\"card-body card-body-mine\">\n                <div className=\"feedback\">\n                    <img alt=\"\" src=\"https://i.imgur.com/VAs8kvi.png\" />\n                    <img alt=\"\" src=\"https://i.imgur.com/VAs8kvi.png\" />\n                    <img alt=\"\" src=\"https://i.imgur.com/VAs8kvi.png\" />\n                    <img alt=\"\" src=\"https://i.imgur.com/VAs8kvi.png\" />\n                    <img alt=\"\" src=\"https://i.imgur.com/VAs8kvi.png\" />\n                    <small className=\"text-info feedback-number\">15</small>\n                </div>\n                <h6 className=\"card-title text-dark card-title-mine\">{title}</h6>\n                <div className=\"card-text text-muted font-weight-light\">{description.trunc(80)}...</div>\n                <div className=\"card-text py-1\">\n                    <div className=\"row\">\n                        <small className=\"col-6 text-warning\">{price} MAD</small>\n                        <small className=\"col-6 text-muted\">Posted by {lastName.toUpperCase()}</small>\n                    </div>\n                </div>\n            </div>\n        </a>\n    );\n}\n\nexport default OfferCard;","import React, { Component } from 'react';\nimport OfferCard from './OfferCard';\n\nclass OfferListing extends Component {\n\n    renderOffers = () => {\n        return this.props.offers.map((offer, index) => {\n            return (\n                <div key={index} className=\"col-lg-3 col-md-6 col-sm-1 mb-4\">\n                    <OfferCard offer={offer} />\n                </div>\n            )\n        })\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                {this.renderOffers()}\n            </React.Fragment>\n        );\n    }\n}\n\nexport default OfferListing;","import React, { Component } from 'react';\nimport OfferListing from './OfferListing';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../actions';\n\nclass OfferList extends Component {\n\n    componentWillMount() {\n        this.props.dispatch(actions.fetchOffers());\n    }\n\n    render() {\n        return (\n            <section className=\"py-5 bg-white\">\n                <div className=\"container-fluid\">\n                    {/* Title */}\n                        <h4 className=\"pb-3 big-title\">Liste des offres Achat</h4>\n                    {/* End Title */}\n                    <div className=\"row\">\n                        <OfferListing offers={this.props.salesoffer} />\n                    </div>\n                </div>\n            </section>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        salesoffer: state.salesoffer.data\n    }\n}\n\nexport default connect(mapStateToProps)(OfferList);","import React from 'react';\n\nfunction ReviewForm(props) {\n    return (\n        <React.Fragment>\n            <p className=\"text-dark\">Ajouter un avis</p>\n            <form className=\"form-review\">\n                <div className=\"text-dark form-group\">\n                    <label className=\"text-muted font-weight-light\" htmlFor=\"reviewField\">Votre avis <small className=\"text-danger\">*</small></label>\n                    <textarea className=\"font-weight-light form-control\" rows=\"8\" id=\"reviewField\" placeholder=\"Ajouter un avis\">\n\n                    </textarea>\n                </div>\n                <button type=\"submit\" className=\"btn btn-warning text-white\">Envoyer</button>\n            </form>\n        </React.Fragment>\n    );\n}\n\nexport default ReviewForm;","import React from 'react';\n\nfunction ReviewCard(props) {\n    return (\n        <ol className=\"commentList\">\n            <li className=\"comment-item\">\n                <div className=\"row\">\n                    <div className=\"col col-12 col-md-2\">\n                        <img src=\"https://i.imgur.com/rGBnHoD.jpg\" alt=\"\"/>\n                    </div>\n                    <div className=\"bg-light px-4 col col-12 col-md-10\">\n                        <div className=\"comment-content\">\n                            <span className=\"font-weight-bold text-muted d-block my-2\">John Doe <small className=\"text-black-50 mx-1\"> -> 12 Fridary 2019</small></span>\n                            <p className=\"text-muted\">Bacon ipsum dolor amet kielbasa shank capicola jowl</p>\n                        </div>\n                    </div>\n                </div>\n            </li>\n        </ol>\n    );\n}\n\nexport default ReviewCard;","import React, { Component } from 'react';\nimport { css } from '@emotion/core';\nimport { ClipLoader } from 'react-spinners';\n\nconst override = css`\n    display: block;\n    margin: 0 auto;\n    border-color: red;\n    position: absolute;\n    height: 100px;\n    width: 100px;\n    top: 50%;\n    left: 50%;\n    margin-left: -50px;\n    margin-top: -50px;\n`;\n\nclass Spinner extends Component {\n\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            loading: true\n        }\n    }\n    \n    render() {\n        return (\n                <div className='sweet-loading'>\n                    <ClipLoader\n                        css={override}\n                        sizeUnit={\"px\"}\n                        size={50}\n                        color={'#36D7B7'}\n                        loading={this.state.loading}\n                    />\n                </div>\n        );\n    }\n}\n\nexport default Spinner;","import React, { Component } from 'react';\nimport ReviewForm from '../../Forms/ReviewForm';\nimport ReviewCard from '../../shared/Reviews/ReviewCard';\nimport * as actions from '../../../actions/index';\nimport { connect } from 'react-redux';\nimport * as moment from 'moment';\nimport ImageGallery from 'react-image-gallery';\nimport \"react-image-gallery/styles/css/image-gallery.css\";\nimport Spinner from '../../shared/Spinner';\nimport offerService from '../../../services/offer-service';\nimport 'moment/locale/fr';\n\n\nclass offersDetails extends Component {\n\n    componentWillMount() {\n        this.props.dispatch(actions.fetchOfferById(this.props.match.params.id));\n    }\n\n    numberWithCommas = (x) => {\n        return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    }\n\n    getLocalDate = (date) => {\n        moment.locale('fr');\n        return moment(date).format('LL');\n    }\n\n    getRealType = (type) => {\n        switch(type)\n        {\n            case 'sale':\n                return 'Vente';\n            case 'purchase':\n                return 'Achat';\n            case 'purchase_bulk':\n                return 'Achat Gros';\n            case 'auction':\n                return 'Enchère';\n            default:\n                return;\n        }\n    }\n\n    render() {\n\n        const { offerDetails } = this.props;\n\n        if (offerDetails && offerDetails.id) {\n            const locationLength = offerDetails.locations.length;\n            return (\n                <React.Fragment>\n                    <section className=\"pt-5 bg-white\">\n                        <div className=\"container-fluid\">\n                            <div className=\"row\">\n                                <div className=\"col-lg-6 col-md-6 col-sm-10\">\n                                    <ImageGallery showPlayButton={false} showFullscreenButton={false} items={offerDetails.photos} />\n                                </div>\n                                <div className=\"col-lg-6 col-md-6 col-sm-10\">\n                                    <h3 className=\"text-dark\">{offerDetails.title}</h3>\n                                    <h5 className=\"py-3 text-danger\">MAD {this.numberWithCommas(offerDetails.price * offerDetails.weight)}.00</h5>\n                                    <ul className=\"list-group\">\n                                        <li className=\"py-1 list-group-item font-weight-lighter text-dark rounded-0 d-flex justify-content-between dashed-border align-items-center\">\n                                            Poids\n                                <small className=\"text-black-50\">{offerDetails.weight} KG</small>\n                                        </li>\n                                        <li className=\"py-1 list-group-item rounded-0 d-flex font-weight-lighter text-dark justify-content-between dashed-border align-items-center\">\n                                            Avec trasporct ?\n                                    <small className=\"text-black-50\">{offerDetails.isTransport ? 'OUI' : 'NON'}</small>\n                                        </li>\n                                        <li className=\"py-1 list-group-item rounded-0 d-flex font-weight-lighter text-dark justify-content-between dashed-border align-items-center\">\n                                            Prix (KG)\n                                            <small className=\" text-black-50\">{offerDetails.price}</small>\n                                        </li>\n                                        <li className=\"py-1 list-group-item rounded-0 dashed-border font-weight-lighter text-dark align-items-center\">\n                                            <div className=\"row\">\n                                                <div className=\"col col-6 d-flex\">Owner</div>\n                                                <div className=\"col col-6 d-flex justify-content-end\">\n                                                    <small className=\"text-black-50\">{offerDetails.owner.lastName.toUpperCase()}</small>\n                                                </div>\n                                            </div>\n                                        </li>\n                                        <li className=\"py-1 list-group-item rounded-0 dashed-border font-weight-lighter text-dark align-items-center\">\n                                            <div className=\"row\">\n                                                <div className=\"col col-6 d-flex\">Type d'offer</div>\n                                                <div className=\"col col-6 d-flex justify-content-end\">\n                                                    <small className=\"text-black-50\">{this.getRealType(offerDetails.type)}</small>\n                                                </div>\n                                            </div>\n                                        </li>\n                                        <li className=\"py-1 list-group-item rounded-0 dashed-border font-weight-lighter text-dark align-items-center\">\n                                            <div className=\"row\">\n                                                <div className=\"col col-6 d-flex\">Emplacement</div>\n                                                <div className=\"col col-6 d-flex justify-content-end\">\n                                                    <small className=\"text-black-50\">{\n                                                        offerDetails.locations.map((value, index) => {\n                                                            return `${value} ${locationLength !== index + 1 ? ', ' : ''}`\n                                                        })\n                                                    }</small>\n                                                </div>\n                                            </div>\n                                        </li>\n                                        <li className=\"py-1 list-group-item rounded-0 dashed-border font-weight-lighter text-dark align-items-center\">\n                                            <div className=\"row\">\n                                                <div className=\"col col-6 d-flex\">Date Fin</div>\n                                                <div className=\"col col-6 d-flex justify-content-end\">\n                                                    <small className=\"text-black-50\">{this.getLocalDate(offerDetails.end_date)}</small>\n                                                </div>\n                                            </div>\n                                        </li>\n                                    </ul>\n                                    <div className=\"row mt-5\">\n                                        <div className=\"col col-6\">\n                                            <button type=\"button\" className=\"btn btn-block btn-warning text-light rounded-0\" disabled={!offerService.isAllowedToAccept(offerDetails.type) && 'disabled'}>Accepter l'offer</button>\n                                        </div>\n                                        <div className=\"col col-6\">\n                                            <button type=\"button\" className=\"btn btn-block btn-outline-danger rounded-0\">Ajouter au Wishlist</button>\n                                        </div>\n                                    </div>\n                                    <div className=\"mt-3 font-weight-light\">Categories:\n                                    <a className=\"p-2 text-muted\" href=\"/\">{offerDetails.category.label}</a>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </section>\n                    <section className=\"info-section\">\n                        <div className=\"container-fluid\">\n                            <nav>\n                                <div className=\"nav nav-tabs nav-fill\" id=\"nav-tab\" role=\"tablist\">\n                                    <a className=\"nav-item text-muted nav-link\" id=\"nav-home-tab\" data-toggle=\"tab\" href=\"#nav-home\" role=\"tab\" aria-controls=\"nav-home\" aria-selected=\"true\">Description</a>\n                                    <a className=\"nav-item text-muted nav-link\" id=\"nav-profile-tab\" data-toggle=\"tab\" href=\"#nav-profile\" role=\"tab\" aria-controls=\"nav-profile\" aria-selected=\"false\">Plus Info</a>\n                                    <a className=\"nav-item text-muted nav-link\" id=\"nav-contact-tab\" data-toggle=\"tab\" href=\"#nav-contact\" role=\"tab\" aria-controls=\"nav-contact\" aria-selected=\"false\">Avis</a>\n                                </div>\n                            </nav>\n                            <div className=\"tab-content\" id=\"nav-tabContent\">\n                                <div className=\"py-3 tab-pane fade show active\" id=\"nav-home\" role=\"tabpanel\" aria-labelledby=\"nav-home-tab\">\n                                    Bacon ipsum dolor amet pork chop short ribs beef pancetta bresaola bacon. Pork corned beef rump jowl, ball tip landjaeger pancetta spare ribs sausage ground round chicken tail. Cupim shoulder meatloaf pastrami pancetta t-bone frankfurter flank. Capicola ham hock jowl, rump strip steak shankle landjaeger.\n                        </div>\n                                <div className=\"py-3 tab-pane fade\" id=\"nav-profile\" role=\"tabpanel\" aria-labelledby=\"nav-profile-tab\">\n                                    Bacon ipsum dolor amet pork chop short ribs beef pancetta bresaola bacon. Pork corned beef rump jowl, ball tip landjaeger pancetta spare ribs sausage ground round chicken tail. Cupim shoulder meatloaf pastrami pancetta t-bone frankfurter flank. Capicola ham hock jowl, rump strip steak shankle landjaeger.\n                        </div>\n                                <div className=\"py-3 tab-pane fade\" id=\"nav-contact\" role=\"tabpanel\" aria-labelledby=\"nav-contact-tab\">\n                                    <div className=\"row mx-2\">\n                                        <div className=\"col col-12 col-lg-6 col-md-10 col-sm-10\">\n                                            <ReviewCard />\n                                        </div>\n                                        <div className=\"col col-12 col-lg-6 col-md-10 col-sm-10 py-4\">\n                                            <ReviewForm />\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </section>\n                    <script>\n\n                    </script>\n                </React.Fragment>\n            );\n        } else {\n            return (\n                <Spinner />\n            );\n        }\n    }\n}\n\n\nfunction mapStateToProps(state) {\n    return {\n        offerDetails: state.offerDetails.data\n    }\n}\n\nexport default connect(mapStateToProps)(offersDetails);","import React from 'react';\n\nfunction HomeTabs(props) {\n    return (\n        <section className=\" container-fluid py-4\">\n            <nav>\n                <div className=\"nav nav-tabs nav-fill\" id=\"nav-tab\" role=\"tablist\">\n                    <a className=\"nav-item text-black-50 nav-link active\" id=\"nav-achat-tab\" data-toggle=\"tab\" href=\"#nav-achat\" role=\"tab\" aria-controls=\"nav-achat\" aria-selected=\"true\">Offer d'achat</a>\n                    <a className=\"nav-item text-black-50 nav-link\" id=\"nav-vent-tab\" data-toggle=\"tab\" href=\"#nav-vente\" role=\"tab\" aria-controls=\"nav-vente\" aria-selected=\"false\">Offer de vente</a>\n                    <a className=\"nav-item text-black-50 nav-link\" id=\"nav-gros-tab\" data-toggle=\"tab\" href=\"#nav-gros\" role=\"tab\" aria-controls=\"nav-gros\" aria-selected=\"false\">Offer d'achat Gros</a>\n                    <a className=\"nav-item text-black-50 nav-link\" id=\"nav-auction-tab\" data-toggle=\"tab\" href=\"#nav-auction\" role=\"tab\" aria-controls=\"nav-auction\" aria-selected=\"false\">Enchère</a>\n                </div>\n            </nav>\n            <div className=\"tab-content\" id=\"nav-tabContent\">\n                <div className=\"tab-pane fade show active\" id=\"nav-achat\" role=\"tabpanel\" aria-labelledby=\"nav-achat-tab\">...</div>\n                <div className=\"tab-pane fade\" id=\"nav-vente\" role=\"tabpanel\" aria-labelledby=\"nav-vente-tab\">...</div>\n                <div className=\"tab-pane fade\" id=\"nav-gros\" role=\"tabpanel\" aria-labelledby=\"nav-gros-tab\">...</div>\n                <div className=\"tab-pane fade\" id=\"nav-auction\" role=\"tabpanel\" aria-labelledby=\"nav-auction-tab\">...</div>\n            </div>\n        </section>\n    );\n}\nexport default HomeTabs;","import React, {useState} from 'react';\nimport {Redirect} from 'react-router-dom';\n\nfunction RegisterCard(props) {\n    const {color, isActive, title, icon, value } = props;\n    const [isRedirect, setIsRedirect] = useState(false);\n\n    function handleClick() {\n        setIsRedirect(true);\n    }\n\n    if (isRedirect)\n        return (<Redirect to={{ pathname: '/register', state: { type : value } }} />);\n    return (\n        <div className={`card card-mine border-0 ${isActive && 'active'}`}>\n            <div className={`card-header border-top border-light ${color}`}>\n                <span><i className={`fas fa-${icon} text-white`}></i></span>\n                <h5 className=\"card-title text-white font-weight-light my-2 text-center\">{title}</h5>\n            </div>\n            <div className=\"card-body\">\n                <div className=\"card-subtitle font-weight-light text-black-50 border-bottom border-light pb-4\">\n                    <span>Si vous choisissez ce pack, vous pourrez effectuer les opérations suivantes:</span>\n                </div>\n                <ul className=\"list-group font-weight-light text-black-50 py-4 border-bottom border-light list-group-flush\">\n                        <li className=\"list-group-item borderless px-0 pb-0\"><i className=\"fas fa-check text-success px-2\"></i> lorem ipsume to so do with</li>\n                        <li className=\"list-group-item borderless px-0 pb-0\"><i className=\"fas fa-check text-success px-2\"></i> lorem ipsume to so do with the</li>\n                        <li className=\"list-group-item borderless px-0 pb-0\"><i className=\"fas fa-check text-success px-2\"></i> lorem ipsume to so do with the</li>\n                        <li className=\"list-group-item borderless px-0 pb-0\"><i className=\"fas fa-times text-danger px-2\"></i> lorem ipsume to so do with the</li>\n                </ul>\n                <div className=\"text-center py-5\">\n                    <button onClick={handleClick} type=\"button\" className=\"btn rounded-pill btn-block py-2 btn-outline-danger\">FAISONS CELA</button>\n                </div>\n            </div>\n        </div>\n    );\n}\nexport default RegisterCard;\n","\nimport RegisterCard from './RegisterCard';\nimport React, { Component } from 'react';\n\nclass RegisterCardList extends Component {\n    render() {\n        return (\n        <div>\n            <h2 className=\"mb-5 text-center text-dark font-weight-light\">Choisissez un plan approprié parmi ceux-ci</h2>\n            <div className=\"row\">\n                <div className=\"col-lg-4\">\n                    <RegisterCard value=\"picker\" title=\"Collecteur\" color=\"bg-danger\" icon=\"truck-pickup\" />\n                </div>\n                <div className=\"col-lg-4\">\n                    <RegisterCard  value=\"reseller\" title=\"Revendeur\" color=\"bg-success\" isActive={true} icon=\"people-carry\" />\n                </div>\n                <div className=\"col-lg-4\" >\n                    <RegisterCard value=\"buyer\" title=\"Acheteur\" color=\"bg-warning\" icon=\"cart-arrow-down\"/>\n                </div>\n            </div>\n        </div>\n        );\n    }\n}\n\nexport default RegisterCardList;","import React from 'react';\nimport RegisterCardList from '../shared/Cards/RegisterCardList';\n\nfunction Plans(props) {\n\n    return (\n        <section className=\"login-container container-fluid mx-auto p-5 my-auto\">\n               <RegisterCardList />\n        </section>\n    );\n}\nexport default Plans;","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch, HasRouter } from \"react-router-dom\";\nimport { Provider } from 'react-redux';\nimport './App.css';\nimport Header from './components/shared/Header';\nimport Login from './components/auth/Login';\nimport Register from './components/auth/Register';\nimport * as actions from './actions'\nimport ProtectedRoute from './components/shared/auth/ProtectedRoute'\nimport LogedInRoute from './components/shared/auth/LogedInRoute'\nimport PostOffer from './components/offres/PostOffer';\nimport OfferList from './components/offres/offersListing/OfferList';\nimport offersDetails from './components/offres/offersDetails/offersDetails';\nimport HomeTabs from './components/shared/tabs/HomeTabs';\nimport Plans from './components/auth/Plans';\n\nconst store = require('./reducers').init();\n\nfunction App() {\n\n  function componentWillMount() {\n    checkAuthState();\n  }\n\n  function checkAuthState() {\n    store.dispatch(actions.checkAuthState());\n  }\n\n  function logout() {\n    store.dispatch(actions.logout());\n  }\n  componentWillMount();\n  return (\n    <Provider store={store}>\n      <Router basename=\"/\">\n        <div className=\"App\">\n          <div className=\"wrapper\">\n            <Header logout={logout} />\n            <Route exact path=\"/\"></Route>\n            <Switch>\n              <Route exact path=\"/\" component={ HomeTabs } ></Route>\n              <Route exact path=\"/offers\" component={OfferList}></Route>\n              <ProtectedRoute exact path=\"/offers/new\" component={PostOffer} />\n              <Route exact path=\"/offers/:id\" component={offersDetails} />\n            </Switch>\n            <Route exact path=\"/login\" component={Login}></Route>\n            <Route exact path=\"/plans\" component={ Plans }></Route>\n            <LogedInRoute exact path=\"/register\" component={Register}></LogedInRoute>\n          </div>\n        </div>\n      </Router>\n    </Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import {LOGIN_SUCCESS, LOGIN_FAILURE, LOGOUT } from '../actions/types'\n\nconst INITIAL_STATE = {\n    isAuth: false,\n    errors: []  \n}\n\nexport const authReducer = (state = INITIAL_STATE, action) => {\n\n    switch(action.type)\n    {\n        case LOGIN_SUCCESS:\n            return Object.assign({}, state, {isAuth: true});\n        case LOGIN_FAILURE:\n            return Object.assign({}, state, {errors: action.errors});\n        case LOGOUT:\n            return Object.assign({}, state, {isAuth: false});\n        default:\n            return state;\n    }\n}","import \n{ FETCH_USER_INFO_FAILURE, FETCH_USER_INFO_SUCCESS }\n from '../actions/types';\n\n const INITIAL_STATE = {\n    userInfo: {\n        data: [],\n        errors: []\n    } \n}\n\nexport const userInfoReducer = (state = INITIAL_STATE.userInfo, action) => {\n    switch(action.type)\n    {\n        case FETCH_USER_INFO_SUCCESS:\n            const data = {...state, data: action.userInfo};\n            return data;\n        case FETCH_USER_INFO_FAILURE:\n            return Object.assign({}, state, {errors: action.errors, data: []});\n        default:\n            return state;\n    }\n}","import { \n    FETCH_CATEGORIES_FAIL,\n    FETCH_CATEGORIES_SUCCESS,\n    FETCH_SALES_FAILURE,\n    FETCH_SALES_SUCCESS,\n    FETCH_OFFER_FAILURE,\n    FETCH_OFFER_SUCCESS\n} from '../actions/types';\n\n\n\nconst INITIAL_STATE = {\n    categories: {\n        data: [],\n        errors: []\n    }\n}\n\n\nexport const categoryReducer = (state = INITIAL_STATE.categories, action) => {\n    switch(action.type)\n    {\n        case FETCH_CATEGORIES_SUCCESS:\n            return {...state, data: action.categories};\n        case FETCH_CATEGORIES_FAIL:\n            return Object.assign({}, state, {errors: action.errors, data: []});\n        default:\n            return state;\n    }\n}\n\nconst INITIAL_STATE_OFFER_SATE = {\n        salesoffer : {\n        data: [],\n        errors: []\n    }\n}\n\nexport const offerSalesReducer = (state = INITIAL_STATE_OFFER_SATE.salesoffer, action) => {\n\n    switch(action.type)\n    {\n        case FETCH_SALES_SUCCESS:\n            return {...state, data: action.salesoffer};\n        case FETCH_SALES_FAILURE:\n            return Object.assign({}, state, {errors: action.errors, data: []});\n        default: \n            return state;\n    }\n}\n\nconst INITIAL_OFFER_DETAILS_SATE = {\n    offerDetails : {\n    data: [],\n    errors: []\n}\n}\n\n\nexport const offerDetailsReducer = (state = INITIAL_OFFER_DETAILS_SATE, action) => {\n    switch(action.type)\n    {\n        case FETCH_OFFER_SUCCESS:\n            return {...state, data: action.offerDetails};\n        case FETCH_OFFER_FAILURE:\n            return Object.assign({}, state, {errors: action.errors, data: []});\n        default:\n            return state;\n\n    }\n}","import { createStore, applyMiddleware, compose, combineReducers } from 'redux';\nimport { authReducer } from './auth-reducer'\nimport { userInfoReducer } from './user-reducer';\nimport { categoryReducer, offerSalesReducer, offerDetailsReducer } from './offer-reducer'\nimport { reducer as formReducer } from 'redux-form'\nimport thunk from 'redux-thunk'\n\nexport const init = () => {\n\n    const reducer = combineReducers({\n        categories: categoryReducer,\n        salesoffer: offerSalesReducer,\n        offerDetails: offerDetailsReducer,\n        auth: authReducer,\n        form: formReducer,\n        userInfo: userInfoReducer\n    });\n\n    const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n    const store = createStore(reducer, composeEnhancers(applyMiddleware(thunk)));\n    return store;\n}","export const DEFALUT_URL = 'http://wastetoresources-env.5aqp9mu79y.eu-west-3.elasticbeanstalk.com'\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const LOGIN_FAILURE = 'LOGIN_FAILURE';\nexport const LOGOUT = 'LOGOUT';\n\n// Category consts\n\nexport const FETCH_CATEGORIES_SUCCESS = 'FETCH_CATEGORIES_SUCCESS';\nexport const FETCH_CATEGORIES_FAIL = 'FETCH_CATEGORIES_FAIL';\n\n\n// Post an Offer\n\nexport const SALE_SUCCESS = 'SALE_SUCCESS';\nexport const SALE_FAILURE = 'SALE_FAILURE';\n\n// Fetch offers\n\nexport const FETCH_SALES_SUCCESS = 'FETCH_SALES_SUCCESS';\nexport const FETCH_SALES_FAILURE = 'FETCH_SALES_FAILURE';\n\n// FETCH OFFER BY ID\n\nexport const FETCH_OFFER_SUCCESS = 'FETCH_OFFER_SUCCESS';\nexport const FETCH_OFFER_FAILURE = 'FETCH_OFFER_FAILURE';\n\n// IMAGE SIZE\n\nexport const IMGE_SIZE = 6;\n\n// FETCH CURRENT USER INFO\n\nexport const FETCH_USER_INFO_SUCCESS = 'FETCH_USER_INFO_SUCCESS';\nexport const FETCH_USER_INFO_FAILURE = 'FETCH_USER_INFO_FAILURE';"],"sourceRoot":""}